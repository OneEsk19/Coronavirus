url <- "https://www.worldometers.info/coronavirus/"
all <-url%>%read_html()%>%html_table()%>%.[[1]]
library(tidyverse)
library(rvest)
library(tidyverse)
library(rvest)
all <-url%>%read_html()%>%html_table()%>%.[[1]]
continents <- all[1:6,]
View(all)
coronavirus <- all[9:230,-1]
View(coronavirus)
# Remove symbols from formatting of numbers
coronavirus[]<-lapply(coronavirus, function(x) (gsub("\\,|\\+", "", (x))))
View(coronavirus)
coronavirus[,c(2:14, 16:21)] <- sapply(coronavirus[c(2:14, 16:21)],as.numeric)
colnames(coronavirus) <- c("Country", "TotalCases", "NewCases", "TotalDeaths",
"NewDeaths", "TotalRecovered", "NewRecovered", "ActiveCases",
"CriticalCases", "Cases_Per1M", "Deaths_per1M", "TotalTests",
"Tests_per1M", "Population", "Continent", "1CaseeveryXppl",
"1DeatheveryXppl",  "1TesteveryXppl",   "NewCases_per1M",
"NewDeaths_per1M", "ActiveCases_per1M")
# deaths per million
a <- coronavirus[!is.na(coronavirus$Deaths_per1M),]
topdeathrate <- a[a$Deaths_per1M>=1500, ]
ggplot(topdeathrate, aes(x=reorder(Country, Deaths_per1M), y=Deaths_per1M, fill=Continent))+
geom_bar(stat = "identity")+
xlab("Country")+
ylab("Deaths per 1,000,000")+
theme(axis.text.x = element_text(angle = 90))+
coord_flip()
# New Cases
b <- coronavirus[!is.na(coronavirus$NewCases_per1M),]
surge <- b[b$NewCases_per1M>=100,]
ggplot(surge, aes(x=reorder(Country, NewCases_per1M), y=NewCases_per1M, fill=Continent))+
geom_bar(stat = "identity")+
xlab("Country")+
ylab("New cases per 1,000,000")+
theme(axis.text.x = element_text(angle = 90))+
coord_flip()
View(b)
# need to create some variables
# new infections per 1M
any(is.na(coronavirus$NewCases_per1M))
str(coronavirus$NewCases_per1M)
range(coronavirus$NewCases_per1M)
range(na.rm(coronavirus$NewCases_per1M))
testrange <- na.rm(coronavirus$NewCases_per1M)
testrange <- na.omit(coronavirus$NewCases_per1M)
range(testrange)
coronavirus %>%
ggplot(aes(x=NewCases_per1M))+
geom_histogram(bins = 20)
coronavirus %>%
ggplot(aes(x=NewCases_per1M))+
geom_histogram(bins = 10)
coronavirus %>%
ggplot(aes(x=NewCases_per1M))+
geom_histogram(bins = 10, fill='#69b3a2', color='white')
coronavirus %>%
ggplot(aes(x=NewCases_per1M))+
geom_histogram(bins = 10, fill='#80b3a2', color='white')
coronavirus %>%
ggplot(aes(x=NewCases_per1M))+
geom_histogram(bins = 10, fill='#80b3a4', color='white')
coronavirus %>%
ggplot(aes(x=NewCases_per1M))+
geom_histogram(bins = 10, fill='#80b5a4', color='white')
coronavirus %>%
ggplot(aes(x=NewCases_per1M))+
geom_histogram(bins = 10, fill='#8055a4', color='white')
coronavirus %>%
ggplot(aes(x=NewCases_per1M))+
geom_histogram(bins = 10, fill='#805504', color='white')
coronavirus %>%
ggplot(aes(x=NewCases_per1M))+
geom_histogram(bins = 10, fill='#8055A4', color='white')
library(RColorBrewer)
par(mar=c(3,4,2,2))
display.brewer.all()
##########################################################
library(rgdal)
install.packages("rgdal")
my_spdf <- readOGR(
dsn= paste0(getwd(),"../R_Maps/") ,
layer="TM_WORLD_BORDERS_SIMPL-0.3",
verbose=FALSE
)
##########################################################
library(rgdal)
my_spdf <- readOGR(
dsn= paste0(getwd(),"../R_Maps/") ,
layer="TM_WORLD_BORDERS_SIMPL-0.3",
verbose=FALSE
)
my_spdf <- readOGR(
dsn= paste0(getwd(),"../R_Maps") ,
layer="TM_WORLD_BORDERS_SIMPL-0.3",
verbose=FALSE
)
my_spdf <- readOGR(
dsn= paste0(getwd(),"../R_Maps/") ,
layer="TM_WORLD_BORDERS_SIMPL-0.3",
verbose=FALSE
)
my_spdf <- readOGR(
dsn= paste0(getwd(),"../R_Maps/") ,
layer="TM_WORLD_BORDERS_SIMPL-0.3.shp",
verbose=FALSE
)
my_spdf <- readOGR(
dsn= paste0(getwd(),"../R_Maps/") ,
layer="TM_WORLD_BORDERS_SIMPL-0.3.shp",
verbose=FALSE
)
my_spdf <- readOGR(
dsn= paste0(getwd(),"../R_Maps/"),
layer="TM_WORLD_BORDERS_SIMPL-0.3.shp",
verbose=FALSE
)
##########################################################
library(rgdal)
my_spdf <- readOGR(
dsn= paste0(getwd(),"../R_Maps/"),
layer="TM_WORLD_BORDERS_SIMPL-0.3.shp",
verbose=FALSE
)
my_spdf <- readOGR(
dsn= paste0(getwd(),"../R_Maps/"),
layer="TM_WORLD_BORDERS_SIMPL-0.3",
verbose=FALSE
)
my_spdf <- readOGR("../R_Maps/", "TM_WORLD_BORDERS_SIMPL-0.3")
my_spdf <- readOGR("C:/Users/gerog/Documents/R_Maps/", "TM_WORLD_BORDERS_SIMPL-0.3")
my_spdf <- readOGR(
dsn= paste0(getwd(),"C:/Users/gerog/Documents/R_Maps/") ,
layer="TM_WORLD_BORDERS_SIMPL-0.3",
verbose=FALSE
)
my_spdf <- readOGR("C:/Users/georg/Documents/R_Maps/", "TM_WORLD_BORDERS_SIMPL-0.3")
my_spdf <- readOGR("C:/Users/georg/Documents/R_Maps/TM_WORLD_BORDERS_SIMPL-0.3.shp")
View(my_spdf)
my_spdf$REGION
my_spdf
View(my_spdf)
my_spdf$NAME
my_spdf@data
world <- my_spdf[my_spdf@data, ]
worldmap <- my_spdf[my_spdf@data, ]
worldmap <- my_spdf[my_spdf@data$REGION, ]
View(worldmap)
plot(worldmap)
worldmap <- my_spdf[my_spdf@data$REGION==150, ]
plot(worldmap)
plot(worldmap, xlim=c(-20,60) , ylim=c(-40,40))
plot(worldmap, xlim=c(-60,60) , ylim=c(-40,40))
plot(worldmap, xlim=c(-10,60) , ylim=c(-40,40))
plot(worldmap, xlim=c(-10,60) , ylim=c(-0,40))
plot(worldmap, xlim=c(-0,60) , ylim=c(-0,40))
plot(worldmap, xlim=c(-10,60) , ylim=c(-10,40))
plot(worldmap, xlim=c(-10,60) , ylim=c(-0,40))
plot(worldmap, xlim=c(-10,60) , ylim=c(20,40))
plot(worldmap, xlim=c(-10,60) , ylim=c(30,40))
plot(worldmap, xlim=c(10,60) , ylim=c(30,40))
plot(worldmap, xlim=c(-0,60) , ylim=c(30,40))
plot(worldmap, xlim=c(-20,60) , ylim=c(30,40))
plot(worldmap, xlim=c(-20,60) , ylim=c(40,40))
plot(worldmap, xlim=c(-20,60) , ylim=c(50,40))
plot(worldmap, xlim=c(-20,60) , ylim=c(30,40))
euro_map <- my_spdf[my_spdf@data$REGION==150, ]
rm(worldmap)
knitr::opts_chunk$set(echo = TRUE)
plot(euro_map, xlim=c(-20,60) , ylim=c(30,40))
plot(euro_map, xlim=c(-0,60) , ylim=c(30,40))
plot(euro_map, xlim=c(-40,60) , ylim=c(30,40))
plot(euro_map, xlim=c(-50,60) , ylim=c(30,40))
plot(euro_map, xlim=c(-60,60) , ylim=c(30,40))
plot(euro_map, xlim=c(-60,60) , ylim=c(-30,40))
plot(euro_map, xlim=c(-60,60) , ylim=c(30,40))
plot(euro_map, xlim=c(-60,60) , ylim=c(10,40))
plot(euro_map, xlim=c(-60,60) , ylim=c(10,60))
plot(euro_map, xlim=c(-60,60) , ylim=c(10,80))
plot(euro_map, xlim=c(10,60) , ylim=c(10,80))
plot(euro_map, xlim=c(10,80) , ylim=c(10,80))
plot(euro_map, xlim=c(20,80) , ylim=c(10,80))
plot(euro_map, xlim=c(20,60) , ylim=c(10,80))
plot(euro_map, xlim=c(20,60) , ylim=c(10,40))
plot(euro_map, xlim=c(20,60) , ylim=c(10,50))
plot(euro_map, xlim=c(20,60) , ylim=c(10,600))
plot(euro_map, xlim=c(20,60) , ylim=c(10,60))
plot(euro_map, xlim=c(20,60) , ylim=c(10,700))
plot(euro_map, xlim=c(20,60) , ylim=c(10,70))
plot(euro_map)
plot(euro_map, xlim=c(20,60) , ylim=c(10,70))
plot(euro_map, xlim=c(20,60) , ylim=c(300,70))
plot(euro_map, xlim=c(20,60) , ylim=c(30,70))
plot(euro_map, xlim=c(20,50) , ylim=c(30,70))
plot(euro_map, xlim=c(20,50) , ylim=c(30,60))
plot(euro_map, xlim=c(20,50) , ylim=c(30,70))
plot(euro_map, xlim=c(20,40) , ylim=c(30,70))
plot(euro_map, xlim=c(30,50) , ylim=c(30,70))
plot(euro_map, xlim=c(30,50) , ylim=c(40,80))
plot(euro_map, xlim=c(30,50) , ylim=c(40, 70))
plot(euro_map, xlim=c(30,50) , ylim=c(40, 75))
plot(euro_map, xlim=c(30,50) , ylim=c(35, 75))
